import{$ as f,A as u,D as g,O as b,P as M,Q as v,Z as h,a as t,aa as R,b as p,f as r,n as c,q as l,sa as A,va as _,ya as w}from"./chunk-2QLKEBW5.js";var m=(e=>(e.Filme="filme",e.Tv="tv",e))(m||{});var s={production:!0,apiKey:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiNjkxZGYyZjVjODAwMTM4N2M1YmNiMzdlMGRlNDZiMyIsIm5iZiI6MTc1OTk0NTgxMy4wNiwic3ViIjoiNjhlNmE0NTVmNWE0MmU4M2FjNzYzNmJmIiwic2NvcGVzIjpbImFwaV9yZWFkIl0sInZlcnNpb24iOjF9.qxK2LYMD2AIQREteMZpEmRqPYrpLUUXEwJquzmt9-jE"};function n(o){if(!Object.values(m).includes(o))throw new Error('Valor de enum "TipoMidia" inv\xE1lido.');return o==="filme"?"movie":"tv"}var C=class o{http=l(_);domSanitizer=l(w);urlBase="https://api.themoviedb.org/3";selecionarMidiasPopulares(i){let e=`${this.urlBase}/${n(i)}/popular?language=pt-BR`;return this.http.get(e,{headers:{Authorization:s.apiKey}}).pipe(r(a=>this.mapearMidia(a,i)))}selecionarMidiasMaisVotadas(i){let e=`${this.urlBase}/${n(i)}/top_rated?language=pt-BR`;return this.http.get(e,{headers:{Authorization:s.apiKey}}).pipe(r(a=>this.mapearMidia(a,i)))}selecionarFilmesEmCartaz(){let i=`${this.urlBase}/movie/now_playing?language=pt-BR`;return this.http.get(i,{headers:{Authorization:s.apiKey}}).pipe(r(this.mapearFilme))}selecionarDetalhesMidiaPorId(i,e){let a=`${this.urlBase}/${n(i)}/${e}?language=pt-BR`;return this.http.get(a,{headers:{Authorization:s.apiKey}}).pipe(r(d=>this.mapearDetalhesMidia(d,i)))}selecionarVideosMidiaPorId(i,e){let a=`${this.urlBase}/${n(i)}/${e}/videos?language=pt-BR`;return this.http.get(a,{headers:{Authorization:s.apiKey}}).pipe(r(d=>this.mapearVideosMidia(d)))}selecionarCreditosMidiaPorId(i,e){let a=`${this.urlBase}/${n(i)}/${e}/credits?language=pt-BR`;return this.http.get(a,{headers:{Authorization:s.apiKey}}).pipe(r(this.mapearCreditosMidia))}buscarMidias(i,e=1){let a=`https://api.themoviedb.org/3/search/multi?query=${i}&page=${e}&language=pt-BR`;return this.http.get(a,{headers:{Authorization:s.apiKey}}).pipe(r(d=>this.mapearMidiaResultadoBusca(d)))}mapearMidiaResultadoBusca(i){return p(t({},i),{results:i.results.map(e=>p(t({},e),{media_type:e.media_type.toString()==="movie"?"filme":"tv",vote_average:e.vote_average*10,poster_path:e.poster_path?"https://image.tmdb.org/t/p/w500"+e.poster_path:"/img/placeholder-media.webp",backdrop_path:"https://image.tmdb.org/t/p/original"+e.backdrop_path}))})}mapearMidia(i,e){return p(t({},i),{media_type:e,results:i.results.map(a=>p(t({},a),{vote_average:a.vote_average*10,poster_path:a.poster_path?"https://image.tmdb.org/t/p/w500"+a.poster_path:"/img/placeholder-media.webp",backdrop_path:"https://image.tmdb.org/t/p/original"+a.backdrop_path}))})}mapearFilme(i){return p(t({},i),{media_type:"filme",results:i.results.map(e=>p(t({},e),{vote_average:e.vote_average*10,poster_path:"https://image.tmdb.org/t/p/w500"+e.poster_path,backdrop_path:"https://image.tmdb.org/t/p/original"+e.backdrop_path}))})}mapearDetalhesMidia(i,e){return p(t({},i),{media_type:e,vote_average:i.vote_average*10,poster_path:i.poster_path?"https://image.tmdb.org/t/p/w500"+i.poster_path:"/img/placeholder-media.webp",backdrop_path:"https://image.tmdb.org/t/p/original/"+i.backdrop_path})}mapearVideosMidia(i){return p(t({},i),{results:i.results.filter(e=>e.site.toLowerCase()==="youtube").map(e=>p(t({},e),{key:this.domSanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+e.key)}))})}mapearCreditosMidia(i){return p(t({},i),{cast:i.cast.map(e=>p(t({},e),{profile_path:e.profile_path?"https://image.tmdb.org/t/p/w300/"+e.profile_path:"/img/placeholder-person.webp"})),crew:i.crew.map(e=>p(t({},e),{profile_path:e.profile_path?"https://image.tmdb.org/t/p/w300/"+e.profile_path:"/img/placeholder-person.webp"}))})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=c({token:o,factory:o.\u0275fac,providedIn:"root"})};var I=class o{avaliacao=0;tamanhoPx=40;mapearCorDaNota(i){return i>0&&i<=30?"app-borda-nota-mais-baixa":i>30&&i<=50?"app-borda-nota-baixa":i>50&&i<=75?"app-borda-nota-media":"app-borda-nota-alta"}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=g({type:o,selectors:[["app-icone-avaliacao"]],inputs:{avaliacao:"avaliacao",tamanhoPx:"tamanhoPx"},decls:4,vars:8,consts:[[1,"d-flex","justify-content-center","align-items-center","rounded-circle","app-porcentagem-nota",3,"ngClass"],[1,"app-valor-porcentagem","fw-semibold"]],template:function(e,a){e&1&&(M(0,"span",0)(1,"span",1)(2,"span"),f(3),v()()()),e&2&&(h("width",a.tamanhoPx+"px")("height",a.tamanhoPx+"px"),b("ngClass",a.mapearCorDaNota(a.avaliacao)),u(),h("font-size",a.tamanhoPx/2.3+"px"),u(2),R(a.avaliacao.toFixed(0)))},dependencies:[A],encapsulation:2})};export{m as a,C as b,I as c};
