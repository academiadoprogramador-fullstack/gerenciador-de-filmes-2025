import{a as F}from"./chunk-335MBLFJ.js";import{b as E}from"./chunk-P3MJXSK4.js";import{$ as P,A as o,D as g,J as s,K as l,M as h,N as y,O as S,P as d,Q as n,R as $,Y as T,ca as b,f as r,i as u,j as v,k as C,ka as c,l as _,la as m,q as p,ta as x,xa as L,za as w}from"./chunk-2QLKEBW5.js";var D=(a,i)=>i.id;function N(a,i){if(a&1&&(d(0,"h2"),P(1),n()),a&2){let e=i;o(),b("",e.tipoMidia," ",e.tipoColecaoMidia)}}function V(a,i){if(a&1&&(d(0,"div",2),$(1,"app-card-midia",3),n()),a&2){let e=i.$implicit,t=T();o(),S("tipoMidia",t.media_type)("midia",e)}}function B(a,i){a&1&&(d(0,"div",1),h(1,V,2,2,"div",2,D),n()),a&2&&(o(),y(i.results))}var A=class a{title=p(L);route=p(w);midiaService=p(E);params$=this.route.paramMap.pipe(u(i=>i.has("tipoMidia")&&i.has("tipoColecaoMidia")),r(i=>{let e=i.get("tipoMidia"),t=i.get("tipoColecaoMidia");if(!e||!t)throw new Error("N\xE3o foi poss\xEDvel ler os par\xE2metros de rota.");return{tipoMidia:e,tipoColecaoMidia:t}}),v({bufferSize:1,refCount:!0}));cabecalhoMidiasSelecionadas$=this.params$.pipe(r(i=>{let e=i.tipoMidia==="filme"?"Filmes":"S\xE9ries",t=i.tipoColecaoMidia==="populares"?"Populares":e==="Filmes"?"Mais Votados":"Mais Votadas";return{tipoMidia:e,tipoColecaoMidia:t}}),_(i=>this.title.setTitle(`Listagem de ${i.tipoMidia} ${i.tipoColecaoMidia} | APMDb`)));midiasSelecionadas$=this.params$.pipe(C(i=>i.tipoColecaoMidia==="populares"?this.midiaService.selecionarMidiasPopulares(i.tipoMidia):this.midiaService.selecionarMidiasMaisVotadas(i.tipoMidia)));static \u0275fac=function(e){return new(e||a)};static \u0275cmp=g({type:a,selectors:[["app-listagem-midia"]],decls:5,vars:6,consts:[[1,"container","py-4"],[1,"row","g-3","mt-1"],[1,"col-7","col-lg-3","col-xl-2"],[3,"tipoMidia","midia"]],template:function(e,t){if(e&1&&(d(0,"div",0),s(1,N,2,2,"h2"),c(2,"async"),s(3,B,3,0,"div",1),c(4,"async"),n()),e&2){let M,f;o(),l((M=m(2,2,t.cabecalhoMidiasSelecionadas$))?1:-1,M),o(2),l((f=m(4,4,t.midiasSelecionadas$))?3:-1,f)}},dependencies:[F,x],encapsulation:2})};export{A as ListagemMidia};
